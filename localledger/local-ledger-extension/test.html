<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Popup Test Page</title>
</head>
<body>
    <h1>Testing Popup Functionality</h1>

    <!-- Input for Amazon Product Link -->
    <input type="text" id="amazonInput" placeholder="Enter Amazon Product Link">
    <button id="searchButton">Search Product</button>

    <!-- Area to display search results -->
    <div id="searchResults">Results will appear here...</div>

    <!-- Including the popup.js script -->
    <script src="popup.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const searchButton = document.getElementById('searchButton');
            const amazonInput = document.getElementById('amazonInput');
            const resultsDiv = document.getElementById('searchResults');

            if (searchButton) {
                searchButton.addEventListener('click', function() {
                    console.log("Search button clicked.");
                    const productLink = amazonInput.value;
                    if(productLink) {
                        handleProductSearch(productLink);
                    } else {
                        console.log("No Amazon product link entered.");
                        resultsDiv.innerHTML = "Please enter a valid Amazon product link.";
                    }
                });
            } else {
                console.error("Search button not found.");
            }

            // Simulate a search function that processes the product link
            function handleProductSearch(link) {
                console.log("Processing search for:", link);
                // Example of displaying a result
                resultsDiv.innerHTML = "Searching for product details based on: " + link;

                // Simulate an API call/response (this could be an AJAx call in a real scenario)
                setTimeout(() => {
                    resultsDiv.innerHTML = "Results for product link " + link + ": <br/>Example Product Details go here.";
                }, 1500);
            }
        });
    </script>
</body>
</html>
