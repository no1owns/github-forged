<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Popup Test Page</title>
</head>
<body>
    <h1>Testing Popup Functionality</h1>

    <!-- Input for Amazon Product Link -->
    <input type="text" id="amazonInput" placeholder="Enter Amazon Product Link">
    <button id="searchButton">Search Product</button>

    <!-- Area to display search results -->
    <div id="searchResults">Results will appear here...</div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const searchButton = document.getElementById('searchButton');
            const amazonInput = document.getElementById('amazonInput');
            const resultsDiv = document.getElementById('searchResults');

            searchButton.addEventListener('click', function() {
                const productLink = amazonInput.value.trim();
                if (productLink) {
                    fetchProductDetails(productLink);
                } else {
                    resultsDiv.innerHTML = "Please enter a valid Amazon product link.";
                }
            });

            // Simulates fetching product data from an API
            function fetchProductDetails(productURL) {
                console.log("Fetching details for:", productURL);
                // Mimic an API call delay
                setTimeout(() => {
                    // Mock response data
                    const data = {
                        productName: "Example Product",
                        description: "This is a detailed description of the example product according to the provided Amazon link.",
                        price: "$39.99"
                    };
                    displayResults(data);
                }, 1500);
            } 

            function displayResults(data) {
                resultsDiv.innerHTML = `<strong>Product Name:</strong> ${data.productName}<br>
                                        <strong>Description:</strong> ${data.description}<br>
                                        <strong>Price:</strong> ${data.price}`;
            }
        });
    </script>
</body>
</html>
